{% load static %}

<!DOCTYPE html>
<html lang="fr" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta  name="viewport" content="width=device-width, initial-scale=1.0 user-scalable=no">

    <title>inscription</title>
    <link rel="stylesheet" type="text/css" href="{% static 'vitrine/css/style.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'vitrine/css/css_personalise.css' %}">

    <link rel="stylesheet" type="text/css" href="{% static 'vitrine/css/bootstrap-icons.css' %}">
  </head>

  <body>
    <div class="container ">
      <div class="bg-dark header-cours header position-relative" >
        <div class="container position-relative">
          <div class="logo postition-abolute">
            <img src="{% static 'vitrine/images/logo-ecole.png' %}" alt="" width="200px" height="100px">
          </div>
          <div class=" fs-4 text-white position-absolute text-uppercase fw-bolder fw-sm-bold slogan">
                <p style="transform:translateX(-30px)"> Vous devez vous connecter pour acceder à
                  cette section </p>
                  {% if user.is_authenticated %}
                    <p class="display-4 fw-bold">salut <span class="text-warning ">{{user.username}}</span> </p>
                  {% else %}
                  <a class="btn btn-warning rounded-0 position-absolute text-light fs-4 "
                   href="{% url 'authentification:login' %}">
                     Connecter
                  </a>
                  {% endif %}
          </div>


        </div>
      </div>

    {% include "vitrine/menu.html" with page=4 %}

{% if authenticated %}
  <div class="menu-cours mt-5  bg-light">
    <div class="">
    <div class="row justify-content-between">
      <div class=" col-6 col-md-10">
        <div class="row">
          <div class=" col-12 col-md-4 d-flex toggle order-1">
            <span class="fw-bold">Mode <br> Sombre  </span><i class="bi bi-toggle-off display-6  text-dark"></i>
          </div>
          <div class="col-12 mt-5 mt-md-auto  col-md-8 order-2 d-none d-md-block">
            <form class="" action="" method="get">
              <div class="row">
                <div class="col order-2 input">
                  <input type="search" name="search" value="" id="search" class="form-control" placeholder="rechercher">
                </div>
                <div class="col order-1 d-flex" >
                  <label for="trie" class="fw-bold" >rechercher par</label>
                  <select class="form-control" id="trie" name="search-by">
                    <option value="tous" selected="true">Tous</option>
                    <option value="titre">Titre</option>
                    <option value="discipline">Discipline</option>
                    <option value="auteur">Auteur</option>
                  </select>
                </div>
              </div>
              <div class="row">
                <div class="col">
                  <div class="row justify-content-center align-items-center">
                    <div class="col-12 text-center mt-2">
                      <button type="button" name="button" class="btn btn-dark text-light fw-bold rounded-0 form-ajax" >Rechercher</button>
                    </div>

                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class=" col-6 col-md-2 text-end ">
        <button class=" canvas-tml btn btn-dark text-danger border-dark border rounded-0 text-uppercase fw-bold"
        type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" style="max-height:100px;"
         aria-controls="offcanvasRight">Cours</button>
      </div>


    </div>
    <div class="text-center">
      <div class="col-12 mt-5 mt-md-auto  col-md-8 order-2 d-block d-md-none">
        <form class="" action="" method="get">
          <div class="row">
            <div class="col order-2 input">
              <input type="search" name="search" value="" id="search" class="form-control" placeholder="rechercher">
            </div>
            <div class="col order-1 d-flex" >
              <label for="trie" class="fw-bold" >Rechercher par</label>
              <select class="form-control" id="trie" name="search-by">
                <option value="tous" selected="true">Tous</option>
                <option value="titre">Titre</option>
                <option value="discipline">Discipline</option>
                <option value="auteur">Auteur</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <div class="row justify-content-center align-items-center">
                <div class="col-12 text-center mt-2">
                  <button type="button" name="button" class="btn btn-dark text-light fw-bold rounded-0 form-ajax" >Rechercher</button>
                </div>

              </div>
            </div>
          </div>
        </form>
      </div>

    </div>
      </div>





          <div class="offcanvas offcanvas-end text-white"  tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
            <div class="offcanvas-header">

              <div id="offcanvasRightLabel" class="text-dark  text-white ">
                <div class="d-flex  ">
                  <img src="{% static 'vitrine/images/etudiante1.jpg' %}" width="50px" height="50px" class=" me-3 rounded-circle border border-danger" alt="">
                  <h5 class="text-danger me-3 ">{{user.username}}</h5>
                </div>
              </div>

              <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
              <ul>
                <li class="mt-3 active"><a href="" class="text-decoration-none link-light">Cours</a></li>
                <li class="mt-3 "><a href="" class="text-decoration-none link-light">Notifications</a></li>
                <li class="mt-3"><a href="" class="text-decoration-none link-light">classe</a></li>
                <li class="mt-3 "><a href="" class="text-decoration-none link-light">Paramètres</a></li>
                <li class="mt-3">  <a href="{% url 'authentification:logout'%}"
                  class="text-decoration-none link-light">Deconnecter</a> </li>

              </ul>
            </div>
          </div>
  </div>

        <div class=" rounded-0 mt-5 ">

          <div class="mt-3 ">
            <div class="table-responsive-sm d-none d-sm-block shadow">
              <table class="table table-light  table-striped table-hover text-dark  ">
                <tr class="text-uppercase">
                  <th scope="col">Titre </th>
                  <th scope="col">discipline</th>
                  <th scope="col">auteur</th>
                  <th scope="col">description</th>
                  <th scope="col">support</th>
                  <th scope="col">duree </th>
                </tr>

                {% for cours_ in cours %}
                <tr  class="cours" data-cours="{% url 'cours:lire_cours' pk_cours=cours_.pk %}">

                  <td>{{cours_.titre}}</td>
                  <td>{{cours_.discipline}}</td>
                  <td>{{cours_.auteur}}</td>
                  <td>{{cours_.description}}</td>
                  <td>{{cours_.support}} </td>
                  <th>{{cours_.duree}}h</th>
                </tr>
              {% empty %}

              <p> Aucun cours disponible</p>

              {% endfor %}


              </table>
            </div>
            <div class="table-responsive d-block d-sm-none mx-1">
              <table class="table table-light   table-striped table-bordered table-hover text-dark">
                <tr class="text-uppercase">
                  <th scope="col"> titre</th>
                  <th scope="col">Description</th>
                  <th scope="col">duree</th>
                </tr>

                {% for cours_ in cours %}
                <tr  class="cours" data-cours="{% url 'cours:lire_cours' pk_cours=cours_.pk %}">
                  <td>{{cours_.titre}}</td>
                  <td>{{cours_.description}}</td>
                  <th>{{cours_.duree}}h</th>
                </tr>
                {% empty %}
                <p>Aucun cours disponible</p>
                {% endfor %}
              </table>

            </div>
          </div>
        </div>
      </div>
{% else %}

<div class="d-flex justify-content-center aligh-items-center mt-5">
  <div class="alert alert-primary">
    Vous devez vous connecter en tant qu'étudiant pour acceder à cette section.
  </div>
</div>
{% endif %}

        {% include "vitrine/footer.html" %}




    <script type="text/javascript" src="{% static 'vitrine/node_modules/bootstrap/dist/js/bootstrap.bundle.js' %}">
    </script>
    <script type="text/javascript" src="{% static 'vitrine/js/jquery-3.6.0.js' %}">

    </script>

    <script type="text/javascript" src="{%  static 'cours/js/cours.js' %} "> </script>
    <script type="text/javascript" src="{% static 'vitrine/js/intersection-observer.js' %}">

    </script>

  </body>
</html>
